<!DOCTYPE html>
<html>
<head>
    <title>Convert JSON Data to HTML Table</title>
    <style>
        th, td, p, input {
            font:14px Verdana;
        }
        table, th, td 
        {
            border: solid 1px #DDD;
            border-collapse: collapse;
            padding: 2px 3px;
            text-align: center;
        }
        th {
            font-weight:bold;
        }
    </style>
</head>
<body>
    <input type="button" onclick="CreateTableFromJSON()" 
    value="Create Table From JSON" />
    <p id="showData"></p>
</body>

<script>
    function CreateTableFromJSON() {
        var myUsers = [
        {"active":true,"_id":"5bd080482c9c2a74ecf2ace3","fname":"Dawn","lname":"Bagley","email":"dawnF@gmail.com","password":"02141970","role":"user","registerDate":"2018-10-24T14:23:04.879Z","__v":0},{"active":true,"_id":"5bd0822262d3f34758daa37d","fname":"Alex","lname":"Sniffen","email":"ASnif@uwm.edu","password":"987654321","role":"admin","registerDate":"2018-10-24T14:30:58.013Z","__v":0},{"active":false,"_id":"5bd0c45e2ee1d20bc9cbbbb7","fname":"Daniel","lname":"Forero1","email":"danjokeny@gmail.com","password":"PasswordIsBOB","role":"staff","registerDate":"2018-10-24T14:22:01.128Z","__v":0},{"active":true,"_id":"5bd0d5c481e9992421d155fc","fname":"debbie","lname":"downer","email":"debbie.downer@snl.com","password":"helloworld","role":"user","registerDate":"2018-10-24T20:27:48.242Z","__v":0},{"active":true,"_id":"5bd0d640f2236331d9f2c51c","fname":"amy","lname":"vankauwenberg","email":"amyV@nm.com","password":"neighbor","role":"admin","registerDate":"2018-10-24T20:29:53.035Z","__v":0},{"active":false,"_id":"5bd0da7640adda3cadd3f996","fname":"craig","lname":"dorfler","email":"dorfman@animalhouse.com","password":"flounder","role":"staff","registerDate":"2018-10-24T20:47:50.988Z","__v":0},{"active":true,"_id":"5bd312221d702b16809db1bd","fname":"danny","lname":"Forero","email":"dannyUWM@gmail.com","password":"reality","role":"user","registerDate":"2018-10-26T13:09:54.157Z","__v":0}
      
        ]

        // EXTRACT VALUE FOR HTML HEADER. 
        var col = [];
        for (var i = 0; i < myUsers.length; i++) {
            for (var key in myUsers[i]) {
                if (col.indexOf(key) === -1) {
                    col.push(key);
                }
            }
        }

        // CREATE DYNAMIC TABLE.
        var table = document.createElement("table");

        // CREATE HTML TABLE HEADER ROW USING THE EXTRACTED HEADERS ABOVE.

        var tr = table.insertRow(-1);                   // TABLE ROW.

        for (var i = 0; i < col.length; i++) {
            var th = document.createElement("th");      // TABLE HEADER.
            th.innerHTML = col[i];
            tr.appendChild(th);
        }

        // ADD JSON DATA TO THE TABLE AS ROWS.
        for (var i = 0; i < myUsers.length; i++) {

            tr = table.insertRow(-1);

            for (var j = 0; j < col.length; j++) {
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = myUsers[i][col[j]];
            }
        }

        // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
        var divContainer = document.getElementById("showData");
        divContainer.innerHTML = "";
        divContainer.appendChild(table);
        console.log('out html script function');
    }
</script>
</html>